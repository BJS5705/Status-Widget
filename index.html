<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steam Status</title>
    <style>
        body {
            background-color: #1F2127;
            color: white;
            font-family: malgun gothic, Segoe UI, Helvetica, Arial, Sans-Serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #steam-status {
            border: solid #000000 1px;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="steam-status">상태를 확인 중...</div>

    <script>
        async function fetchSteamStatus() {
            const apiKey = '8B003B5D78AC09470503063713080EB0';
            const steamId = '76561198055079301';
            const url = `https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=${apiKey}&steamids=${steamId}`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                const personastate = data.response.players[0].personastate;

                let statusText = '';
                switch(personastate) {
                    case 0:
                        statusText = '오프라인';
                        break;
                    case 1:
                        statusText = '온라인';
                        break;
                    case 2:
                        statusText = '바쁨';
                        break;
                    case 3:
                        statusText = '자리 비움';
                        break;
                    case 4:
                        statusText = '잠수';
                        break;
                    case 5:
                        statusText = '게임 중';
                        break;
                    default:
                        statusText = '상태를 알 수 없음';
                }

                document.getElementById('steam-status').innerText = statusText;
            } catch (error) {
                console.error('Error fetching Steam status:', error);
                document.getElementById('steam-status').innerText = '상태를 불러오지 못했습니다.';
            }
        }

        fetchSteamStatus();
    </script>
</body>
</html>
