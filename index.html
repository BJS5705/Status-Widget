<table style="background-color: #1F2127; width: 170px; height: 100px; border: solid #000000 1px; border-radius: 10px; font-family: malgun gothic, Segoe UI, Helvetica, Arial, Sans-Serif;">
    <tbody>
        <tr>
            <td align="left" style="padding: 5px;">
                <img src="https://avatars.akamai.steamstatic.com/cb56471b6bbb734d48054000ceaba827e2776cf3_full.jpg" alt="Profile Image" style="width: 50px; height: 50px; border-radius: 10px; border: solid 1px #000000;" />
            </td>
            <td align="left" style="color: white; vertical-align: middle; padding-left: 5px;">
                <b>HEAVEN</b>
                <div style="font-size: 10px; color: #CCCCCC;">스팀접속상태</div>
            </td>
        </tr>
        <tr>
            <td colspan="2" align="center" style="color: white;">
                <div id="steam-status" style="font-size: 14px; margin-top: 10px;">상태를 확인 중...</div>
            </td>
        </tr>
    </tbody>
</table>

<script>
    async function fetchSteamStatus() {
        const apiKey = '8B003B5D78AC09470503063713080EB0';
        const steamId = '76561198055079301';
        const url = `https://cors-anywhere.herokuapp.com/https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=${apiKey}&steamids=${steamId}`;

        try {
            const response = await fetch(url);
            const data = await response.json();
            const personastate = data.response.players[0].personastate;

            let statusText = '';
            let statusColor = 'white'; // 기본 색상

            switch(personastate) {
                case 0:
                    statusText = '오프라인';
                    break;
                case 1:
                    statusText = '온라인';
                    statusColor = '#6BCAF1'; // 온라인 상태일 때 색상
                    break;
                case 2:
                    statusText = '바쁨';
                    break;
                case 3:
                    statusText = '자리 비움';
                    break;
                case 4:
                    statusText = '잠수';
                    break;
                case 5:
                    statusText = '게임 중';
                    break;
                default:
                    statusText = '상태를 알 수 없음';
            }

            const statusElement = document.getElementById('steam-status');
            statusElement.innerText = statusText;
            statusElement.style.color = statusColor; // 텍스트 색상 설정
            statusElement.style.fontWeight = personastate === 1 ? 'bold' : 'normal'; // 온라인일 경우 굵게
        } catch (error) {
            console.error('Error fetching Steam status:', error);
            document.getElementById('steam-status').innerText = '상태를 불러오지 못했습니다.';
        }
    }

    fetchSteamStatus();
</script>
